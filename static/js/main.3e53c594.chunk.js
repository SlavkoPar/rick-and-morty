(this["webpackJsonprick-and-morty"]=this["webpackJsonprick-and-morty"]||[]).push([[0],{74:function(e,t,n){e.exports=n(93)},79:function(e,t,n){},80:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(65),o=n.n(i),c=(n(79),n(80),n(27)),l=n(8),u=n(19),s=n(2),d=n(73),m=n(23),p=n(20),f=n(24),v=n(69);function E(e){var t=e.searchTerm,n=e.onSearch,i=Object(r.useState)(t),o=Object(m.a)(i,2),c=o[0],l=o[1],u=Object(v.debounce)((function(e){return n(e)}),1e3);return a.a.createElement("input",{type:"text",placeholder:"Search",value:c,onChange:function(e){l(e.target.value),u(e.target.value)}})}function h(e){var t=e.id,n=e.name,i=e.air_date,o=e.episode,l=e.characters,u=function(){var e=Object(r.useState)({isHovered:!1}),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(r.useRef)(null),o=function(){return a({isHovered:!0})},c=function(){return a({isHovered:!1})};return Object(r.useEffect)((function(){var e=i.current;if(e)return e.addEventListener("mouseenter",(function(){return o()})),e.addEventListener("mouseleave",(function(){return c()})),function(){e.removeEventListener("mouseenter",(function(){return o()})),e.removeEventListener("mouseleave",(function(){return c()}))}}),[i.current]),[i,n]}(),s=Object(m.a)(u,2),d=s[0],p=s[1];return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(c.b,{to:"/episode/".concat(t)},n),a.a.createElement("div",null,o,",  ",i)),a.a.createElement("td",{style:{textAlign:"center"}},a.a.createElement("div",{ref:d,style:{position:"relative"}},"#",l.length,p.isHovered&&a.a.createElement("button",{className:"show-more",title:"Edit",onClick:function(){}},"Show"))))}function b(){var e=Object(p.a)(["\n\tfont-size: 1em;\n\tmargin: 1em;\n\tpadding: 0.25em 1em;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n"]);return b=function(){return e},e}function g(){var e=Object(p.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin: 20px 15px;\n\twidth: 90%;\n\toverflow: hidden;\n"]);return g=function(){return e},e}function x(){var e=Object(p.a)(["\n\tposition: 'relative'\n\tbackground-color: gainsboro;\n\tborder-radius: 10px;\n\tbox-shadow: 3px 3px 25px -5px rgba(0,0,0,0.47);\n\tcolor: #1A1A1A;\n\tdisplay: inline-block;\n\tmargin: 20px 15px;\n\twidth: 98%;\n\toverflow: hidden;\n"]);return x=function(){return e},e}function y(){var e=Object(p.a)(["\n\tquery episodes($page: Int, $filter: String) {\n\t\tepisodes(page: $page, filter: { name: $filter }) {\n\t\t\tresults {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tepisode\n\t\t\t\tair_date\n\t\t\t\tcharacters {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t\tinfo {\n\t\t\t\tnext\n\t\t\t}\n\t\t}\n\t}\n"]);return y=function(){return e},e}var j=Object(u.gql)(y()),O=f.a.div(x()),w=f.a.div(g()),k=f.a.button(b()),A=1;function S(){var e=Object(r.useState)(1),t=Object(m.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),c=Object(m.a)(o,2),l=c[0],s=c[1];console.log("zovem bre filter, page:",n," searchTerm:",l);var p=Object(u.useQuery)(j,{variables:{page:n,filter:l}}),f=p.loading,v=p.error,b=p.data,g=p.fetchMore;if(b&&console.log("data",b),f)return a.a.createElement("p",null,"Loading...");if(v)return a.a.createElement("p",null,"Error :(");var x=b&&b.episodes.results||[],y=b&&b.episodes.info.next;return a.a.createElement(O,null,a.a.createElement("div",{style:{padding:"5px 10px",width:"20%"}},a.a.createElement(E,{searchTerm:l,onSearch:function(e){return s(e)}})),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",{sty:!0},a.a.createElement("th",null,"Episode"),a.a.createElement("th",{style:{textAlign:"center",width:"130px"}},"#Characters"))),a.a.createElement("tbody",null,x.map((function(e){return a.a.createElement(h,Object.assign({key:e.id},e))})))),a.a.createElement(w,null,x&&y&&a.a.createElement(k,{onClick:function(){A++,g({variables:{page:A,filter:l},fetchPolicy:"cache-and-network",updateQuery:function(e,t){var n=t.fetchMoreResult;return n?{episodes:{results:Object(d.a)(n.episodes.results),info:{next:n.episodes.info.next}}}:e}})}},"Show More Episodes"),x&&A>1&&a.a.createElement(k,{onClick:function(){A=1,i(0)}},"Top")))}function C(e){var t=e.id,n=e.name,r=e.episode,i=e.image;return a.a.createElement("div",{key:t,className:"item"},a.a.createElement("img",{alt:"Actor",style:{width:120,height:120},src:i}),a.a.createElement("div",null,n),a.a.createElement("div",null,"Episodes: ",r.length))}n(91);function $(e){var t=e.characters;return a.a.createElement("div",{className:"container"},t.map((function(e){return a.a.createElement(C,Object.assign({key:e.id},e))})))}function q(){var e=Object(p.a)(["\n\tquery episode($id: ID!) {\n\t\tepisode(id: $id) {\n\t\t\tid\n\t\t\tname\n\t\t\tair_date\n\t\t\tepisode\n\t\t\t created\n\t\t\tcharacters {\n\t\t\t  id\n\t\t\t  name\n\t\t\t  status\n\t\t\t  species\n\t\t\t  gender\n\t\t\t  location {\n\t\t\t\t name\n\t\t\t  }\n\t\t\t  image\n\t\t\t  created\n\t\t\t  episode {\n\t\t\t\t  id\n\t\t\t  }\n\t\t }\n\t\n\t\t}\n\t}\n"]);return q=function(){return e},e}function L(){var e=Object(p.a)(["\n  padding: 0 15px;\n"]);return L=function(){return e},e}function H(){var e=Object(p.a)(["\n  font-size: 1.66rem;\n"]);return H=function(){return e},e}function I(){var e=Object(p.a)(["\n\tposition: 'relative'\n\tbackground-color: gainsboro;\n\tborder-radius: 10px;\n\tbox-shadow: 3px 3px 25px -5px rgba(0,0,0,0.47);\n\tcolor: #1A1A1A;\n\tdisplay: inline-block;\n\tmargin: 20px 15px;\n\tmmmax-width: 300px;\n\toverflow: hidden;\n"]);return I=function(){return e},e}var M=f.a.div(I()),T=f.a.div(H()),Q=f.a.div(L()),_=Object(u.gql)(q());function z(){var e=Object(l.f)().id,t=Object(u.useQuery)(_,{variables:{id:e}}),n=t.loading,r=t.error,i=t.data;if(i&&console.log("data",i),n)return a.a.createElement("p",null,"Loading...");if(r)return a.a.createElement("p",null,"Error :(");var o=i.episode,s=o.name,d=o.air_date,m=o.episode,p=o.characters;return a.a.createElement(M,null,a.a.createElement(Q,null,a.a.createElement(T,null,s),a.a.createElement("div",null,m),a.a.createElement("div",null,"AIR DATE: ",d)),a.a.createElement("h4",{style:{padding:"0px 15px"}},"Characters"),a.a.createElement($,{characters:p}),a.a.createElement("div",{style:{position:"absolute",right:"30px",top:"30px"}},a.a.createElement(c.b,{to:"/"},"Back to Episodes")))}var B=new u.ApolloClient({uri:"https://rickandmortyapi.com/graphql",cache:new u.InMemoryCache({typePolicies:{Query:{fields:{search:Object(s.H)(["query"])}}}})});var N=function(){return a.a.createElement(c.a,null,a.a.createElement(u.ApolloProvider,{client:B},a.a.createElement("div",null,a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/episode/:id"},a.a.createElement(z,null)),a.a.createElement(l.a,{path:"/"},a.a.createElement(S,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.3e53c594.chunk.js.map